"use strict";(()=>{var e={};e.id=996,e.ids=[996],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},80665:e=>{e.exports=require("dns")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},98216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},74026:e=>{e.exports=require("string_decoder")},82452:e=>{e.exports=require("tls")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},44236:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>y,requestAsyncStorage:()=>x,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var o={};t.r(o),t.d(o,{GET:()=>m});var s=t(49303),n=t(88716),a=t(60670),i=t(87070),p=t(93475),c=t(57435);async function m(e){try{let e={timestamp:new Date().toISOString(),application:{name:"Clipeiro AI",version:process.env.npm_package_version||"1.0.0",environment:"production",uptime:process.uptime()},system:{memory:{used:Math.round(process.memoryUsage().heapUsed/1024/1024),total:Math.round(process.memoryUsage().heapTotal/1024/1024),external:Math.round(process.memoryUsage().external/1024/1024),rss:Math.round(process.memoryUsage().rss/1024/1024)},cpu:process.cpuUsage(),platform:process.platform,nodeVersion:process.version,pid:process.pid},redis:await u(),requests:await l()};return i.NextResponse.json(e)}catch(e){return c.kg.error("Metrics Error",{error:e instanceof Error?e.message:"Unknown error"}),i.NextResponse.json({error:"Failed to get metrics",timestamp:new Date().toISOString()},{status:500})}}async function u(){try{let e=await p.T8.info("memory"),r=await p.T8.dbsize();return{status:"connected",dbSize:r,memory:e,timestamp:new Date().toISOString()}}catch(e){return{status:"disconnected",error:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()}}}async function l(){try{return{total:0,success:0,errors:0,averageResponseTime:0}}catch(e){return{error:e instanceof Error?e.message:"Unknown error"}}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/metrics/route",pathname:"/api/metrics",filename:"route",bundlePath:"app/api/metrics/route"},resolvedPagePath:"C:\\Users\\aluno\\OneDrive\\Desktop\\clipeiro\\app\\api\\metrics\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:x,staticGenerationAsyncStorage:f,serverHooks:g}=d,v="/api/metrics/route";function y(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},57435:(e,r,t)=>{t.d(r,{kg:()=>c});var o=t(94624),s=t.n(o),n=t(55315),a=t.n(n);let i=s().format.combine(s().format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),s().format.errors({stack:!0}),s().format.json(),s().format.prettyPrint()),p=[new(s()).transports.File({filename:a().join(process.cwd(),"logs","error.log"),level:"error",maxsize:5242880,maxFiles:5,format:i}),new(s()).transports.File({filename:a().join(process.cwd(),"logs","combined.log"),maxsize:5242880,maxFiles:5,format:i}),new(s()).transports.Console({level:"info",format:s().format.combine(s().format.colorize(),s().format.simple())})],c=s().createLogger({level:process.env.LOG_LEVEL||"info",format:i,transports:p,exitOnError:!1})},93475:(e,r,t)=>{t.d(r,{T8:()=>p});var o=t(62197),s=t.n(o);let n=process.env.REDIS_URL||"redis://localhost:6379",a=process.env.REDIS_PASSWORD||"clipeiro2024",i={host:process.env.REDIS_HOST||"localhost",port:parseInt(process.env.REDIS_PORT||"6379"),password:a,retryDelayOnFailover:100,maxRetriesPerRequest:3,lazyConnect:!0,keepAlive:3e4,connectTimeout:1e4,commandTimeout:5e3,retryDelayOnClusterDown:300,enableReadyCheck:!1,maxRetriesPerRequest:null},p=new(s())(n,i);new(s())(n,i),new(s())(n,i),p.on("connect",()=>{console.log("✅ Redis connected successfully")}),p.on("error",e=>{console.error("❌ Redis connection error:",e)}),p.on("ready",()=>{console.log("\uD83D\uDE80 Redis ready for operations")})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,972,783],()=>t(44236));module.exports=o})();